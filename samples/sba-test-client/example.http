# ========================= local test (agent api) =========================
###
GET http://localhost:8765/api/methods?classPattern=examples.azure.containerappsalbumapijava.*&methodPattern=get*

###
GET http://localhost:8765/api/classes?classPattern=examples.azure.containerappsalbumapijava.* HTTP/1.1

### add around logs
POST http://localhost:8765/api/log HTTP/1.1
Content-Type: application/json

{
"className": "examples.azure.containerappsalbumapijava.AlbumController",
"methodName": "getAllAlbums"
}

### delete around logs
POST http://localhost:8765/api/log HTTP/1.1
Content-Type: application/json

{
"deleteAll": true
}

# ========================= test =========================
###
GET http://localhost:8080/albums HTTP/1.1

###
GET https://fenzho-ent-0710-hotreload.asc-test.net/albums HTTP/1.1

###
PUT  https://fenzho-ent-0710-demo.asc-test.net/infor HTTP/1.1

{

}


###
POST   https://fenzho-ent-0710-demo.asc-test.net/latency HTTP/1.1

{

}


###
PUT  http://localhost:8080/infor HTTP/1.1

{

}


###
POST  http://localhost:8080/latency HTTP/1.1

{

}

# ========================= local test (service api) =========================
@podName = spring-boot-app-55f854c5fc-p6c58
@containerName = spring-boot-app
@namespace = asa-apps

###
GET http://localhost:8081/namespaces HTTP/1.1

###
GET http://localhost:8081/pods?namespace={{namespace}} HTTP/1.1

###
GET http://localhost:8081/pod?name={{podName}}&namespace={{namespace}} HTTP/1.1

###
GET http://localhost:8081/containers?podName={{podName}} HTTP/1.1

### attach agent
POST http://localhost:8081/attach HTTP/1.1
Content-Type: application/json

{
    "podName": "{{podName}}",
    "containerName": "{{containerName}}",
    "namespace": "{{namespace}}"
}

### add logs
POST http://localhost:8081/logs/add HTTP/1.1
Content-Type: application/json

{
    "podName": "{{podName}}",
    "containerName": "{{containerName}}",
    "className": "examples.azure.containerappsalbumapijava.AlbumController",
    "methodName": "getAllAlbums",
    "namespace": "{{namespace}}"
}


### remove logs
POST http://localhost:8081/logs/remove HTTP/1.1
Content-Type: application/json

{
    "podName": "{{podName}}",
    "containerName": "{{containerName}}",
    "namespace": "{{namespace}}",
    "deleteAll": true
}

### list classloader
GET http://localhost:8081/classloader?podName={{podName}}&containerName={{containerName}} HTTP/1.1

### list classes
GET http://localhost:8081/classes?podName={{podName}}&containerName={{containerName}}&classPattern=examples.azure.containerappsalbumapijava.* HTTP/1.1

### list methods
GET http://localhost:8081/methods?podName={{podName}}&containerName={{containerName}}&classPattern=examples.azure.containerappsalbumapijava.*&methodPattern=get* HTTP/1.1